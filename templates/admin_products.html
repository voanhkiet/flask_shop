{% extends "base.html" %} {% block content %}
<div class="container mt-4">
  <h2>üõ†Ô∏è Manage Products</h2>
  <a href="{{ url_for('add_product') }}" class="btn btn-success mb-3"
    >‚ûï Add New Product</a
  >

  {% if products %}
  <table class="table table-bordered align-middle">
    <thead class="table-light">
      <tr>
        <th>ID</th>
        <th>Image</th>
        <th>Name</th>
        <th>Price</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for product in products %}
      <tr>
        <td>{{ product.id }}</td>
        <td>
          {% if product.image %}
          <img
            src="{{ url_for('static', filename=product.image) }}"
            alt="{{ product.name }}"
            width="80"
            class="rounded border"
          />
          {% else %}
          <img
            src="{{ url_for('static', filename='default.png') }}"
            alt="No image"
            width="80"
            class="rounded border"
          />
          {% endif %}
        </td>

        <td>{{ product.name }}</td>
        <td>${{ "%.2f"|format(product.price) }}</td>
        <td>{{ product.description }}</td>
        <td>
          <a
            href="{{ url_for('edit_product', product_id=product.id) }}"
            class="btn btn-warning btn-sm"
            >‚úèÔ∏è Edit</a
          >
          <a
            href="{{ url_for('delete_product', product_id=product.id) }}"
            class="btn btn-danger btn-sm"
            >üóëÔ∏è Delete</a
          >
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p class="text-muted">No products found. Add some items to your shop.</p>
  {% endif %}
</div>
{% endblock %}
